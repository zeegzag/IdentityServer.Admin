@using Microsoft.AspNetCore.Mvc.Localization
@using Skoruba.IdentityServer4.Admin.Constants
@inject IViewLocalizer Localizer

<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<link rel="icon" type="image/png" href="/images/skoruba-logo-small.png" />
	<title>@ViewData["Title"] - @Localizer["PageTitle"]</title>

	<environment include="Development">
		<link href="~/css/bundle.css" asp-append-version="true" rel="stylesheet" />
		<link href="~/css/web.css" asp-append-version="true" rel="stylesheet" />
	</environment>
	<environment exclude="Development">
		<link href="~/css/bundle.min.css" asp-append-version="true" rel="stylesheet" />
		<link href="~/css/web.min.css" asp-append-version="true" rel="stylesheet" />
	</environment>

	@RenderSection("styles", required: false)
</head>
<body>
	<nav id="mainNav" class="navbar navbar-default navbar-fixed-top affix">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand logo" href="/">
					<img src="/images/skoruba-logo-small.png" alt="brand">
				</a>

				<a asp-area="" asp-controller="Home" asp-action="Index" class="navbar-brand navbar-brand-image">
					<span>@Localizer["PageTitle"]</span>
				</a>

				<a asp-area="" asp-controller="Home" asp-action="Index" class="navbar-brand navbar-brand-image-mobile">
					<span>@Localizer["PageTitleMobile"]</span>
				</a>
			</div>

			<div class="navbar-collapse collapse">
				<ul class="nav navbar-nav">
					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">@Localizer["TitleConfiguration"] <span class="caret"></span></a>
						<ul class="dropdown-menu">
							<li><a asp-area="" asp-controller="Configuration" asp-action="Clients">@Localizer["LinkClients"]</a></li>
							<li role="separator" class="divider"></li>
							<li><a asp-area="" asp-controller="Configuration" asp-action="IdentityResources">@Localizer["LinkIdentityResources"]</a></li>
							<li><a asp-area="" asp-controller="Configuration" asp-action="ApiResources">@Localizer["LinkApiResources"]</a></li>
							<li role="separator" class="divider"></li>
							<li><a asp-area="" asp-controller="Grant" asp-action="PersistedGrants">@Localizer["LinkPersistedGrants"]</a></li>
						</ul>
					</li>

					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">@Localizer["TitleUsermanagement"] <span class="caret"></span></a>
						<ul class="dropdown-menu">
							<li><a asp-area="" asp-controller="Identity" asp-action="Users">@Localizer["LinkUsers"]</a></li>
							<li><a asp-area="" asp-controller="Identity" asp-action="Roles">@Localizer["LinkRoles"]</a></li>
						</ul>
					</li>

					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">@Localizer["TitleLogs"] <span class="caret"></span></a>
						<ul class="dropdown-menu">							
							<li><a asp-area="" asp-controller="Log" asp-action="ErrorsLog">@Localizer["LinkErrorsLog"]</a></li>
						</ul>
					</li>
				</ul>

				<ul class="nav navbar-nav navbar-right">
					@if (User.Identity.IsAuthenticated)
					{
						<li><a href="#">@User.Claims.SingleOrDefault(x => x.Type == AuthorizationConsts.UserNameClaimType)?.Value</a></li>
						<li><a asp-action="Logout" asp-controller="Account">@Localizer["LinkLogout"]</a></li>
					}
				</ul>
			</div>
		</div>
	</nav>

	<div class="container body-content">
		@RenderBody()
	</div>

	<environment include="Development">
		<script src="~/js/bundle.js" asp-append-version="true"></script>
	</environment>
	<environment exclude="Development">
		<script src="~/js/bundle.min.js" asp-append-version="true"></script>
	</environment>

	@Html.Partial("Common/Notification")

	@RenderSection("scripts", required: false)
</body>
</html>
